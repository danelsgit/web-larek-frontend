# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура проекта состоит из следующих основных частей:

Данные: Модель данных представляет собой хранилище информации, используемой приложением. Она может включать в себя информацию о пользователях, продуктах, заказах и т.д.

Отображения: Отображения - это компоненты пользовательского интерфейса, которые визуализируют данные для пользователя. Они могут включать в себя страницы, модальные окна, формы и т.д.

Логика: Логика приложения - это код, который управляет взаимодействием между данными и отображениями. Она может включать в себя обработку событий, бизнес-логику и т.д.

## В архитектуре проекта реализован принцип MVP (Model-View-Presenter).

Model (Модель) - класс, работающий с данными, проводящий вычисления и управляющий бизнес-процессами.
View (Вид) - классы, отображающие интерфейс и данные из модели на экране.
Presenter (Представитель) - класс, обеспечивающий связь между моделью и видом.

### Классы:

EventEmitter: обеспечивает работу событий. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события.

Component: базовый класс для всех компонентов, который используется для создания других компонентов в приложении (View).

Modal: компонент модального окна, который также наследуется от базового класса Component. Он имеет методы для открытия/закрытия и ренедера компонента. (View).

Api: обертка для обработки API-запросов он содержит методы для выполнения GET и POST запросов к указанному URL, используя fetch API. 

Basket: компонент корзины товаров Он наследуется от базового класса Component (View).

Page: представляет страницу приложения и управляет её состоянием и отображением. В конструкторе класса происходит инициализация основных элементов страницы, 
таких как счетчик товаров в корзине (counter), каталог товаров (catalog) и корзина (basket).

AuctionAPI: расширяет класс Api и реализует методы для взаимодействия с API, такие как получение информации о товаре (getLotItem), оформление заказа orderLots(), списка товаров getLotList().

Form: Базовый класс для форм и отвечает за отображение форм, управление их состоянием (валидация + ерроры) и взаимодействие с другими компонентами через события. 
В этом классе есть обработчики событий ввода и отправки (View).

Success: ккомпонент отображения сообщения об успешной оплате (View).

LotItem: используется для создания объекта товара с указанными свойствами:
id, price, title, about, image, description. (Model).

AppState: хранилище данных приложения и логика работы с ними (Model) 
В AppState определены методы для работы с данными, такие как getTotal для подсчета общей суммы заказа, setCatalog для установки списка товаров в каталоге,
setPreview для установки изображения для предпросмотра, getActiveLots  получения товаров которые в корзине, а также методы для добавления и удаления товаров из заказа, валидации адреса и контактной информации в заказе, очистки заказа.

OrderDelivery: форма заказа доставки отвечает за ввод адреса доставки и выбор способа оплаты (онлайн или офлайн) (View).
OrderContacts: форма контактной информации отвечает за ввод контактной информации пользователя (имейл и телефон) (View).

Card<T>: базовый класс для карточки товара и содержит основные свойства и методы для работы с ней. В классе есть заголовок, цена, кнопка и устанавливаются обработчики событий для кнопки.
CardView<T>: расширяет класс Card и служит отоюражения карточки на главной странице. Добавляет карточе такие сйвойства как изображение, описание и категория товара. 
CardBasket<T>: также является расширением класса Card и предназначен для отображения карточек товаров в корзине. В данном классе определено свойство _index для нахождения порядкового номера товара в корзине.


### Интерфейсы:

IEvents: Интерфейс для обработки событий.
IAuctionAPI: Интерфейс для обработки API-запросов.
IProductList: Интерфейс страницы с товаром.
IBasketView: Интерфейс для компонента корзины.
IAppState: Интерфейс для хранилища данных приложения.
IDeliveryForm: Интерфейс для формы заказа доставки.
IContactForm: Интерфейс для формы контактной информации.
ICard<T>: Интерфейс для карточки товара.
IFormState: Интерфейс для фор.

